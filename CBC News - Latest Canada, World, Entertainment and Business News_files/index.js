(()=>{var e={249:function(e,t,n){var o;e.exports=(o=o||function(e,t){var o;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!=typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==n.g&&n.g.crypto&&(o=n.g.crypto),!o)try{o=n(480)}catch(e){}var i=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,i=e.sigBytes;if(this.clamp(),o%4)for(var r=0;r<i;r++){var a=n[r>>>2]>>>24-r%4*8&255;t[o+r>>>2]|=a<<24-(o+r)%4*8}else for(var s=0;s<i;s+=4)t[o+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),u=a.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;o.push((r>>>4).toString(16)),o.push((15&r).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new l.init(n,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(r))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new l.init(n,t)}},g=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,o=this._data,i=o.words,r=o.sigBytes,a=this.blockSize,s=r/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,r);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(i,d);n=i.splice(0,c),o.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),o)},153:function(e,t,n){var o;e.exports=(o=n(249),function(e){var t=o,n=t.lib,i=n.WordArray,r=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),o=2;o<=n;o++)if(!(t%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,i=0;i<64;)t(o)&&(i<8&&(s[i]=n(e.pow(o,.5))),c[i]=n(e.pow(o,1/3)),i++),o++}();var l=[],u=a.SHA256=r.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],i=n[1],r=n[2],a=n[3],s=n[4],u=n[5],d=n[6],f=n[7],g=0;g<64;g++){if(g<16)l[g]=0|e[t+g];else{var h=l[g-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,p=l[g-2],v=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;l[g]=m+l[g-7]+v+l[g-16]}var w=o&i^o&r^i&r,y=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[g]+l[g];f=d,d=u,u=s,s=a+b|0,a=r,r=i,i=o,o=b+(y+w)|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(o/4294967296),n[15+(i+64>>>9<<4)]=o,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(u),t.HmacSHA256=r._createHmacHelper(u)}(Math),o.SHA256)},480:()=>{}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e={credentials:"include"};async function t(t,n){try{const o=Object.assign({},e,n),i=await fetch(t,o);return await i.json()}catch(e){throw new Error(`Unable to fetch a response from ${t} the server responded with the following error: ${e.message}`)}}const o=()=>{const e=document.getElementById("viafoura-platform");return e&&e.getAttribute("data-sid")},i=e=>0!==e.length&&/^[a-z0-9]{16,32}$/i.test(e)?e:"",r="_vf_sid",a=e=>document.querySelector(`meta[name='${e}']`)||document.querySelector(`meta[property='${e}']`);function s(e){let t="";for(const n of e){const e=a(n);if(e){t=e.getAttribute("content")||t;break}}return t}const c=["vf:domain","vf:description","og:domain","domain"],l=["vf:section"],u=["vf:image","og:image","og:image:secure_url","og:image:url","twitter:image"],d=["vf:url","og:url"],f=["vf:title","og:title","twitter:title"],g=["vf:type","og:type"],h=["vf:description","og:description","twitter:description","description"],m=["keywords"],p=["vf:topic"],v=["article:tag"],w=["vf:container_id"],y=["beta-admin.viafoura.com","insights.viafoura.co","insights-canary.viafoura.co"],b=void 0,_="vf.cbs",k=["aberdeenlive.news","bedfordshirelive.co.uk","belfastlive.co.uk","birminghammail.co.uk","bristolpost.co.uk","buckinghamshirelive.co.uk","business-live.co.uk","cambridge-news.co.uk","cheshire-live.co.uk","chroniclelive.co.uk","dailypost.co.uk","dailyrecord.co.uk","buzz.ie","corkbeo.ie","cornwalllive.com","coventrytelegraph.net","devonlive.com","dorset.live","dublinlive.ie","essexlive.news","football.london","galwaybeo.ie","dailystar.co.uk","derbytelegraph.co.uk","edinburghlive.co.uk","examinerlive.co.uk","footballscotland.co.uk","gazettelive.co.uk","getreading.co.uk","getsurrey.co.uk","glasgowlive.co.uk","gloucestershirelive.co.uk","grimsbytelegraph.co.uk","hertfordshiremercury.co.uk","hulldailymail.co.uk","insider.co.uk","leeds-live.co.uk","liverpoolecho.co.uk","leicestermercury.co.uk","lincolnshirelive.co.uk","manchestereveningnews.co.uk","mirror.co.uk","norfolklive.co.uk","norfolklive.co.uk","ok.co.uk","hampshirelive.news","irishmirror.ie","irishstar.com","kentlive.news","lancs.live","liverpool.com","mylondon.news","northantslive.news","nottinghampost.com","rsvplive.ie","suffolklive.com","themirror.com","the-express.com","oxfordshirelive.co.uk","plymouthherald.co.uk","scottishdailyexpress.co.uk","somersetlive.co.uk","staffordshire-live.co.uk","stokesentinel.co.uk","sussexlive.co.uk","walesonline.co.uk","wiltshirelive.co.uk","thecourier.co.uk","pressandjournal.co.uk","comments-staging.wpcstaging.cloud"];function I(){let e;const t=new URL(window.location.href);return y.includes(t.host)||(e=s(c)),e=e||b||t.hostname,e}const x=I(),S=`https://i.viafoura.co/v3/${x}/ingest`,A=`https://api.viafoura.co/v2/${x}/bootstrap/v2`;function C(e){let t=window.localStorage.getItem(P);if(t)return t;if(e){const n=e.settings;t=n&&n.site_uuid}else t=localStorage.getItem(P);return t||null}const P="vf.analytics.section";let $;async function D(){return $=await async function(){let e,n;const a=function(){let e="";const t=o(),n=window.localStorage.getItem(r);return t?e=i(t):n&&(e=i(n)),e}(),c=s(l),u={section:c,section_tree:c,...a&&{session:a}};try{n=await t(A,{method:"post",body:JSON.stringify(u)}),e=n.result}catch(e){console.error(e)}return e}(),$&&(function(e){const t=C(e);t&&localStorage.setItem(P,t)}($),localStorage.setItem("_vf_bootstrap",JSON.stringify($))),$}const E="110px",U="20px";function L(e){const t=document.createElement("div");return t.setAttribute("class","vf-skeleton-generic-block"),t.setAttribute("data-testid","generic-block"),t.setAttribute("style",`height: ${e||"100%"}`),t}function T(){const e=document.createElement("div");e.setAttribute("class","vf-skeleton-comments-container"),e.setAttribute("data-testid","comments-container");const t=document.createElement("div");t.setAttribute("class","vf-skeleton-comments-img-wrapper"),t.setAttribute("data-testid","image-wrapper"),t.appendChild(L("46px"));const n=document.createElement("div");n.setAttribute("class","vf-skeleton-comments-line-wrapper"),n.setAttribute("data-testid","comments-line-wrapper");const o=L("20px");return n.append(o,o.cloneNode(!0),o.cloneNode(!0),o.cloneNode(!0)),e.append(t,n),e}function O(e,t){const n=document.createElement("div");return n.setAttribute("id","vf-skeleton-container"),n.setAttribute("style",`height: ${e}px`),n.setAttribute("data-testid","skeleton-container"),n.style.height=`${e}px`,0===e&&(n.style.margin="0px"),"conversations"===t?n.appendChild(function(e){const t=document.createElement("div");t.setAttribute("class","vf-skeleton-conversations-container"),t.setAttribute("data-testid","conversations-container");const n=Math.floor((e-138)/140);t.appendChild(function(){const e=document.createElement("div");return e.append(L(E),L(U)),e}());for(let e=0;e<n;e++)t.appendChild(T());return t}(e)):n.appendChild(L()),n}const j=async function(e){let n,o={},i=localStorage.getItem(P);i||(i="00000000-0000-4000-8000-000000000000");try{n=await t(`https://livecomments.viafoura.co/v4/livecomments/${i}/contentcontainer/id?container_id=${e}`,{method:"GET"}),o=n.settings}catch(e){console.error(e)}return o},N=e=>e.attributes.getNamedItem("vf-container-id")?.value||s(w);function H(e,t){const{elements:n,options:o}=e;n.forEach((e=>{let n=o.height();const i=e.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight)),e.appendChild(O(n,o.skeletonTemplate)),t.observe(e)}))}function R(e){const t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,t.appendChild(n)}const B=`${window.vfConfig?.cdn_root||"https://cdn.viafoura.net/"}vf-v2.js`,V=new class{scriptAdded;constructor(){this.scriptAdded=!1}V2(e){if(!this.scriptAdded)try{!function(e){const t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("async","true"),t.appendChild(n)}(e),this.scriptAdded=!0}catch(e){console.log(e)}}},z=()=>V.V2(B),F={"vf-conversations":{selector:"vf-conversations",height:()=>428,isDynamicHeight:!1,threshold:.25,skeletonTemplate:"conversations",loadFn:()=>{z()},renderer:async function(e,t){const{elements:n,options:o}=e,{user:i,settings:r}=$||{},a="guest"===i?.user_privilege||"user"===i?.user_privilege;for(const e of Object.values(n)){let n=o.height();const i=e.closest(".viafoura");i&&i.style.minHeight&&(n=parseInt(i.style.minHeight));const s=parseInt(e.getAttribute("initial-height")||"0");if(s&&r?.enable_comments_trending_articles&&r?.ad_integration&&(n=(n>s?n:s)+300),a){const t=N(e),o=await j(t);o?.is_hidden&&(n=0)}e.appendChild(O(n,o.skeletonTemplate)),t.observe(e)}}},"vf-conversations-count":{selector:"vf-conversations-count",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-tray-trigger":{selector:"vf-tray-trigger",height:()=>20,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){const{elements:n,notificationCount:o}=e,i=[];let r=!1;n.forEach((e=>{const n=((e,t)=>{const n=document.createElement("button");!function(e,t){for(const n in t)e.setAttribute(n,t[n])}(n,{type:"button","aria-label":"View your notifications and profile settings","data-vf-id":"-1",class:"fake-bell vf-button vf-no-outline is-size-large vf-tray-trigger vf-frontwise-tray-trigger "+(e?"floating vf-tray-trigger--floating vf-frontwise-tray-trigger--floating":""),...e&&{"data-testid":"floating-bell"}});const o=`\n        <strong\n        aria-label="You have ${t} new notifications"\n        data-testid="notification-bubble"\n        class="vf-label count-badge count-badge--small count-badge--danger-color vf-frontwise-tray-count vf-tray-count ${e?"vf-frontwise-tray-count--floating vf-tray-count--floating":""}"\n    >\n            <span data-testid="notification-bubble-text" aria-hidden="true" class="count-badge__inner count-badge--small__inner">\n                ${t>9?"9+":t}\n            </span>\n        </strong>\n    `;return n.innerHTML+=`\n        ${t>0?o:""}\n        <svg  viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="vf-icon-medium vf-icon vf-frontwise-icon-medium vf-frontwise-icon vf-icon_bell_icon">\n            \x3c!----\x3e\n            \x3c!----\x3e\n            <defs></defs>\n            <g>\n                <path\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                    d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"\n                ></path>\n            </g>\n        </svg>\n    `,n})(e.hasAttribute("floating"),o),a=e.closest(".viafoura");a&&(a.appendChild(n),i.push(n)),t.observe(e),n.addEventListener("click",(()=>{r=!0}))})),R("\n    @font-face {\n        font-weight: 100 900;\n        font-family: 'Inter';\n        font-style: normal;\n        font-display: swap;\n        src: url('https://cdn.viafoura.net/front/assets/fonts/inter/inter-latin.woff2') format('woff2');\n    }\n    .viafoura {\n        font-size: 87.5%;\n        line-height: 1.3;\n    }\n    .viafoura .vf-frontwise-tray-trigger {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        padding: 0;\n        overflow: visible;\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n        border: none;\n        word-break: keep-all;\n        cursor: pointer;\n        -webkit-appearance: button;\n        text-transform: inherit;\n        background: none;\n        box-shadow: none;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        vertical-align: baseline;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger.vf-button {\n        padding: 0;\n        border-radius: 50%;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger:focus,\n    .viafoura .vf-frontwise-tray-trigger:hover,\n    .viafoura .vf-frontwise-tray-trigger:active {\n        color: #0074e8;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating {\n        background-color: rgba(0,0,0,0.75);\n        color: #fff;\n        position: fixed;\n        right: 30px;\n        bottom: 30px;\n        z-index: 10000004;\n        margin: 1em;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:focus,\n    .viafoura .vf-frontwise-tray-trigger--floating:hover {\n        background-color: #0074e8;\n        color: #fff;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:active {\n        background-color: #004e9c;\n    }\n\n\n    .viafoura .vf-frontwise-tray-count {\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        font-family: 'Inter', sans-serif;\n        font-weight: 400;\n        box-sizing: border-box;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 0.715em;\n        line-height: 1;\n        min-width: 1.24em;\n        min-height: 1.24em;\n        padding: 0.12em;\n        border-radius: 0.62em;\n        color: white;\n        background-color: #cc4949;\n    }\n\n    .viafoura .vf-frontwise-tray-count--floating {\n        top: 0;\n        right: 0;\n        left: auto;\n        transform: translateX(25%);\n        max-width: 1.8em;\n        max-height: 1.8em;\n        line-height: 0;\n        min-width: 1.8em;\n        min-height: 1.8em;\n        padding: 0.4em;\n        border-radius: 0.9em;\n    }\n    .viafoura .vf-frontwise-icon.vf-frontwise-icon-medium {\n        width: 18px;\n        height: 18px;\n        font-size: 9px;\n        line-height: 18px;\n    }\n    #fake-bell svg:not(:root) {\n        overflow: hidden;\n    }\n    .viafoura .vf-frontwise-icon {\n        display: inline-block;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n    }\n"),window.vfQ.push((function(){window.vf.$subscribe("vf-tray-trigger","loaded",(function(){i.forEach((e=>e.remove())),r&&(window.vf.$publish("tray","open"),r=!1)}))}))}},"vf-tray":{selector:"vf-tray",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-content-recirculation":{selector:"vf-content-recirculation",height:()=>{const e=$?.settings.trending_conversations_ad_integration,t=e&&"none"!==e,n=window.innerWidth<700;return t&&n?600:300},isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-livechat":{selector:"vf-livechat",height:()=>160,isDynamicHeight:!1,threshold:1,allowedStyleProps:["height"],loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-livestory":{selector:"vf-livestory",height:()=>250,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-topic-follow":{selector:"vf-topic-follow",height:()=>0,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},sharetotal:{selector:'[data-widget="sharetotal"]',height:()=>20,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},sharebar:{selector:'[data-widget="sharebar"]',height:()=>40,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-trending-articles":{selector:"vf-trending-articles",height:()=>144,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-conversation-starter":{selector:"vf-conversation-starter",height:()=>{const e=$?.settings.conversation_starter_ad_integration,t=e&&"none"!==e,n=window.innerWidth<621;return t&&n?565:270},isDynamicHeight:!0,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}},"vf-standalone-ad":{selector:"vf-standalone-ad",height:()=>300,isDynamicHeight:!1,threshold:1,loadFn:()=>{z()},renderer:function(e,t){H(e,t)}}};async function M(){let e,n=0,o=localStorage.getItem(P);o||(o="00000000-0000-4000-8000-000000000000");try{if(e=await t(`https://notifications.viafoura.co/v5/notifications/${o}/all`,{method:"GET"}),!e)return n;let i=e.broadcasts;const r=q();i=r?i.filter((e=>(e.time||0)>+r)):i.filter((e=>"new"===e.status));n=(i.length>0?i.length:0)+(e.notifications.length>0?e.notifications.map((e=>e.notifications)).flat().reduce(((e,t)=>("new"===t.status&&e++,e)),0):0)}catch(e){console.error(e)}return n}const q=()=>{try{if($){const{user:e}=$;let{uuid:t}=e;return t||(t="00000000-0000-4000-8000-000000000000"),window.localStorage.getItem(`_vf_notification_queue_last_seen_${String(t)}`)}}catch(e){return}},J=[];var W,K=new Uint8Array(16);function Q(){if(!W&&!(W="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W(K)}const G=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var X=[],Y=0;Y<256;++Y)X.push((Y+256).toString(16).substr(1));const Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(X[e[t+0]]+X[e[t+1]]+X[e[t+2]]+X[e[t+3]]+"-"+X[e[t+4]]+X[e[t+5]]+"-"+X[e[t+6]]+X[e[t+7]]+"-"+X[e[t+8]]+X[e[t+9]]+"-"+X[e[t+10]]+X[e[t+11]]+X[e[t+12]]+X[e[t+13]]+X[e[t+14]]+X[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&G.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},ee=function(e,t,n){var o=(e=e||{}).random||(e.rng||Q)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return Z(o)};function te(...e){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...e),console.groupEnd())}function ne(e){return String.prototype.trim.call(e)}function oe(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}function ie(e){if(!oe(e))return!1;for(const t in e)if(Object.hasOwn(e,t))return!0;return!1}const re={get:function(e,t=!1){if(!window||!window.localStorage)return null;const n=window.localStorage.getItem(e);if(!n)return null;if(!t)return n;try{return JSON.parse(n)}catch(t){return te(`failed to get json from LS ${e} key due to `,t),null}},set:function(e,t){if(!window||!window.localStorage)return null;if(!t||oe(t)&&!ie(t))return null;if(ie(t)||Array.isArray(t))try{const n=JSON.stringify(t);return window.localStorage?.setItem(e,n),n}catch(t){return te(`failed to set json to LS ${e} key due to `,t),null}return window.localStorage?.setItem(e,t),t},clear:function(e,t=window){return window&&window.localStorage?(t.localStorage?.removeItem(e),!0):null}},ae=re,se="_vf_rd_test_",ce="vf_root_domain";function le(e,t=!1){e.maxAge=-1,e.value="",t?he(e,!1,!0):he(e)}function ue(e,t=document){const n=t.cookie.split("; "),o=[];for(let t=0;t<n.length;t++)n[t].substring(0,e.length)===e&&o.push(n[t]);return o}function de(e){ae.set(ce,e)||te("failed to set root domain",e)}const fe={y:31536e3,d:86400,h:3600,m:60,s:1},ge=e=>{if("string"==typeof e){const t=parseInt(e.slice(0,-1),10),n=e.slice(-1);return t*fe[n]||0}return"number"==typeof e?e:0};function he(e,t=!1,n=!1){return e.maxAge=ge(e.maxAge||0),t&&(e.sameSite=e.sameSite||"Lax",e.isSecure=!1!==e.isSecure,n||(e.domain=function(e,t,n=!1){const o=function(){const e=ae.get(ce);return e&&e.length>3?e:null}();if(o)return o;const i=window.location.hostname,r=i.split("."),a=(new Date).getTime();let s=r.length>1?r.length-1:0;const c={name:`${se}${a}`,value:`_test_${a}`,maxAge:0,sameSite:e,isSecure:t,domain:i};for(;s>=1;){if(c.domain=r.slice(s,r.length).join("."),he(c,!1,!0)===c.value||n){le(c,!0);const e=ue(se);for(let t=0;t<e.length;t++){const n=c;n.name=e[t],le(n,!0)}return de(c.domain),c.domain}s-=1}return de(i),i}(e.sameSite,e.isSecure))),document.cookie=function(e){let t=`${e.name}=${e.value};path=/`;const n=e.isSecure?"; Secure":"",o=e.sameSite?`;SameSite=${e.sameSite}`:"",i=e.domain?`;domain=${e.domain}`:"";if(e.maxAge&&"number"==typeof e.maxAge){const n=new Date;n.setTime(n.getTime()+1e3*e.maxAge),t+=`;max-age=${e.maxAge};expires=${n.toUTCString()}`}return t+=`${i}${o}${n}`,t}(e),decodeURIComponent((`; ${document.cookie}`.split(`; ${e.name}=`)[1]||"").split(";")[0])}const me=(e,t)=>{return"ref"!==e?(n=t,decodeURI(n)):t.split("|").map((e=>e.trim())).reduce(((e,t)=>{const n=t.split("=").map((e=>e.trim()));return e[n[0]]=n[1]?decodeURI(n[1]):"",e}),{});var n};function pe(e,t){const n=function(e,t=document.cookie){const n=`${e}=`,o=t.split(";").map(ne).find((e=>0===e.indexOf(n)));return o?o.substring(n.length,o.length):null}(t);if(!n)return{};const o=n.split(".");return e.reduce(((e,t,n)=>(o[n]&&(e[t]=me(t,o[n])),e)),{})}const ve=e=>encodeURIComponent(e).replace(/\./g,"%2E"),we=e=>Object.entries(e).map((([e,t])=>`${e}=${ve(t)}`));function ye(e,t,n){const o=function(e,t){return e.reduce(((e,n)=>{const o=t[n]||"";if("ref"===n){const t=we(o).join("|");return e.concat(t)}return e.concat(ve(o))}),[]).join(".")}(n,t),{cname:i,maxAge:r}=e;"1"===localStorage.getItem(yt)&&he({name:i,value:o,maxAge:r},!0)}const be=()=>{const e=window.location.hash,t=/^#vf-(\d+)/.exec(e);if(t&&t.length>1){const e=parseInt(t[1],10);if("number"==typeof e)return e}return!1};function _e(){const e=new URL(window.location.href).searchParams.get("__vfz"),t={};if(e){const n=e.split("|");for(let e=0;e<n.length;e++){const o=decodeURIComponent(n[e]).split("=");t[o[0]]=o[1]}}const n=be();return n&&(t.comment_share=n),t}const ke=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i");function Ie(e){return e&&(t=e.sharer_uuid,ke.test(t))?e.sharer_uuid:"";var t}function xe(e,t){if(Array.isArray(e))return!(!Array.isArray(t)||e.length!==t.length)&&e.every(((e,n)=>xe(e,t[n])),!0);if(oe(e)){if(!oe(t)||Array.isArray(t))return!1;const n=Object.keys(e).sort();return xe(n,Object.keys(t).sort())&&n.every((n=>xe(e[n],t[n])))}return e===t}function Se(e,t,n){const{newVisit:o,ts:i}=t,r=function(e){const t=_e(),n=Ie(t);return t&&t.medium?{medium:t.medium||"",source:t.source||"",sharer_uuid:n,terms:""}:document.referrer&&!document.referrer.includes(e.domain)?{medium:"referral",source:document.referrer,sharer_uuid:n,terms:""}:{medium:"direct",source:"",sharer_uuid:n,terms:""}}(e),a={...e,referrerStart:i,refVisitCount:1,ref:r},s=[...n,"referrerStart","refVisitCount","ref"];let c=pe(s,"_vfz");const l=_e(),u=c.ref&&l.medium!==c.ref.medium,d=c.ref&&Ie(l)!==Ie(c.ref),f=c.ref&&document.referrer&&!document.referrer.includes(c.domain);return c.referrerStart?o?"referral"!==r.medium||xe(r,c.ref)?c.refVisitCount++:c=a:(u||d||f)&&(c.ref=r):c=a,ye({cname:"_vfz",maxAge:"6m"},c,s),{options:t,data:c}}const Ae=Math.round(Date.now()/1e3);function Ce(e){const t={ts:Ae},n={domain:e.domain,siteUuid:e.site},o=["domain","siteUuid"],i=function(e,t,n){const{ts:o}=t,i={...e,pageViews:1,outgoing:10,sessionStart:o,isRecirculation:!1},r=[...n,"pageViews","outgoing","sessionStart","isRecirculation","landingPage","page_description","page_title"];let a=pe(r,"_vfb"),s=t;return a.sessionStart?a.pageViews++:(a=i,s={...t,newVisit:!0}),document.referrer&&document.referrer.includes(a.domain)&&(a.isRecirculation=!0),ye({cname:"_vfb",maxAge:"30m"},a,r),{options:s,data:a}}(n,t,o),r=function(e,t,n){const{newVisit:o,ts:i}=t,r={...e,uniqueId:ee(),firstVisit:i,previousVisit:i,currentVisit:i,visitCount:1},a=[...n,"uniqueId","firstVisit","previousVisit","currentVisit","visitCount"];let s=pe(a,"_vfa");return a.some((e=>!s[e]))?s=r:o&&(s.previousVisit=s.currentVisit,s.currentVisit=i,s.visitCount++),ye({cname:"_vfa",maxAge:"1y"},s,a),{options:t,data:s}}(n,{...t,...i.options},o),a=Se(n,{...t,...r.options},o);return{...i.data,...r.data,...a.data}}function Pe(e){const t=[],n=e.reduce(((e,t)=>e+`meta[name='${t}'], meta[property='${t}']`),""),o=document.querySelectorAll(n);return o.length>0&&o.forEach((e=>{const n=e.getAttribute("content");n&&t.push(n)})),t}const $e=["__vfz","__vfsubscribed"],De=e=>e.substring(0,500),Ee=e=>e.replace(/\s+/g," ").trim(),Ue=()=>((e,t=[])=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.delete(e)})),n})(s(d)||window.location.href,$e).href,Le=()=>{const e=Ue(),t=new URL(e);return`${t.pathname}${t.search}`},Te=()=>{const e=document.querySelector("title");return e&&e.innerText||""},Oe=()=>{const e=s(m);let t=[];return e&&(t=[...e.split(",").map((e=>e.trim()))]),[...Pe(p),...Pe(v),...t]};function je(e){if(new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i").test(e))return e;if(!Number.isInteger(e)||e<0||e>0xfffffffffffff)throw new TypeError(`invalid argument: ${e}`);const t=e.toString(16),n=Array(14-t.length).join("0")+t;return`00000000-0000-4000-800${n[0]}-${n.substring(1)}`}function Ne(e){const t=new URL(window.location.href),n=_e(),o=e&&e.user,i={domain:I(),image_url:Ee(s(u)),url:Ue(),path:Le(),title:De(Ee(s(f)||Te())),page_type:s(g),description:De(Ee(s(h))),topics:Oe(),container:s(w),section:De(Ee(s(l)))},r=e&&e.sectionTree,a=localStorage.getItem(P)||void 0,c=r&&r.section_id;return{domain:i.domain,site:a,section:c?je(c):a,pageImage:i.image_url,ref:n,vf:Object.keys(n).length>0,url:i.url,path:i.path,title:i.title,user:o&&o.id?je(o.id):void 0,privilege:o&&o.user_privilege?o.user_privilege:void 0,page_type:i.page_type,page_description:i.description,topics:i.topics,amp:Boolean(t.searchParams.get("isAmpPage")),thirdparty_enabled:"true"===window.sessionStorage.getItem("vfThirdpartyCookiesEnabled"),container_id:i.container}}function He(...e){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...e),console.groupEnd())}var Re;!function(e){e[e["didomi/javascript"]=0]="didomi/javascript",e[e["javascript/blocked"]=1]="javascript/blocked"}(Re||(Re={}));const Be=Object.values(Re).filter((e=>isNaN(Number(e)))),Ve="vf.analytics.tcdata",ze=1138,Fe=[1138,95,561,148];let Me;function qe(){return"function"==typeof window.__tcfapi}function Je(){if(!qe())return!1;try{const e=window.localStorage.getItem(Ve);if(e)return JSON.parse(e)}catch(e){}return!1}function We(){return!!qe()&&(!1!==Je()||window.__tcfapi("addEventListener",2,Ge))}function Ke(e){return!1===e.gdprApplies||!!(e.vc&&!0===e.vc[ze]||e.vli&&!0===e.vli[ze])||(!e.vc||!e.vli||!1!==e.vc[ze]||!1!==e.vli[ze])&&null}function Qe(){if("boolean"==typeof Me)return Me;const e=Je();return"boolean"!=typeof e&&e.vc?(Me=Ke(e),Me):null}function Ge(e,t){if(!t||!e)return!1;try{He("TCF API data",e);const t=e.vendor||{consents:{},legitimateInterests:{}},n=t.consents||void 0,o=t.legitimateInterests||void 0,i={gdprApplies:e.gdprApplies,tcString:e.tcString,pubCC:e.publisherCC,overallPC:e.purpose&&e.purpose.consents};return n&&(i.vc=Fe.reduce(((e,t)=>({...e,[t]:n[t]})),{})),o&&(i.vli=Fe.reduce(((e,t)=>({...e,[t]:o[t]})),{})),Me=Ke(i),He("Consent: ",Me,i),window.localStorage.setItem(Ve,JSON.stringify(i)),!0}catch(e){return!1}}let Xe=!1;const Ye="Error in getBlueConicProfileId: ";function Ze(e,t=window){if(!(e instanceof Function))return!1;if(!t.blueConicClient||void 0===t.blueConicClient.event||void 0===t.blueConicClient.event.subscribe){if(!Xe)try{t.addEventListener("onBlueConicLoaded",Ze.bind(this,e,t)),Xe=!0}catch(e){te(Ye,e)}return!0}const n=t.blueConicClient.profile.getProfile();if(n.permission.getLevel()===t.blueConicClient.permission.level.DO_NOT_TRACK){try{t.blueConicClient.event.subscribe(t.blueConicClient.event.onProfilePermissionChange,this,Ze.bind(this,e,t))}catch(e){te(Ye,e)}return!0}if(!n.getId()){try{t.blueConicClient.event.subscribe(t.blueConicClient.event.onReady,this,Ze.bind(this,e,t))}catch(e){te(Ye,e)}return!0}return e(n.getId()),!0}var et=n(153),tt=n.n(et);const nt={PPID:"",hashedPPID:"",siteUUID:"",actorUuid:"",uniqueId:"",lsKey:"vf.analytics.ppid"},ot="00000000-0000-4000-8000-000000000000";const it={cache:{},script:{parent:"body",attr:"src",el:{async:!0,defer:!0}},options:{}};function rt(e,t){const n=`vf_${i=[e,t],o=i.map(String),o.reduce(((e,t)=>{return 31*e+(n=t,Math.abs(n.split("").reduce(((e,t)=>(e=31*e-e+t.charCodeAt(0))&e),0)));var n}),1)}`;var o,i;return it.cache[n]=it.cache[n]||new Promise(((o,i)=>{const r=it[e],a=document.createElement(e);a.onload=()=>o(a),a.onerror=()=>i(a),Object.assign(a,r.el,{id:n,[r.attr]:t}),document[r.parent]&&document[r.parent].appendChild(a)})).catch((t=>{te("failed to load tag: ",e,t)})),it.cache[n]}const at=e=>rt("script",e),st=["00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-d47205fca416","00000000-0000-4000-8000-000000000bc9","00000000-0000-4000-8000-000000000bd2","00000000-0000-4000-8000-334f214f4651","00000000-0000-4000-8000-000000000bc6","00000000-0000-4000-8000-000000000bd0","00000000-0000-4000-8000-000000000003","00000000-0000-4000-8000-fc9aa5069794","00000000-0000-4000-8000-bc3db436e814"],ct=["00000000-0000-4000-8000-032a225cd465"],lt=["00000000-0000-4000-8000-f1dffa5f5595","00000000-0000-4000-8000-5284a9443a76"],ut=["00000000-0000-4000-8000-5c04b6406bf5","00000000-0000-4000-8000-7b38cb75125c","00000000-0000-4000-8000-57a6fb5ed05f","00000000-0000-4000-8000-e45065cfa5e2","00000000-0000-4000-8000-f41528791ab0","00000000-0000-4000-8000-698956718ae8","00000000-0000-4000-8000-052737eae856","00000000-0000-4000-8000-9c47d751ab86"],dt={siteUUID:"",hashedPPID:"",loadM32:!1,m32pixelLoaded:!1,loadLotame:!1,lotameLoaded:!1,loadAudigent:!1,audigentCodeLoaded:!1,loadLiveIntent:!1,liveIntentLoaded:!1},ft="vf.analytics.bc.id",gt="vf.analytics.lm.id",ht="vf.analytics.lm.ts",mt="vf.analytics.li",pt="17229";function vt(e){dt.siteUUID=C(e),dt.hashedPPID=function(e){return(!nt.hashedPPID||nt.hashedPPID.length<2)&&(function(e){const t=function(e=window.localStorage,t=nt.lsKey){if(e){const n=e.getItem(t);if(n&&nt.hashedPPID&&nt.hashedPPID.length<2&&n.length>0)return n}return""}();if(t)nt.hashedPPID=t;else{const t=Ce(Ne(e));nt.siteUUID=localStorage.getItem(P)||t.siteUuid||"",nt.actorUuid=e&&e.user&&e.user.uuid||ot,nt.uniqueId=t.uniqueId||"",nt.PPID=nt.actorUuid&&nt.actorUuid!==ot?nt.actorUuid:nt.uniqueId,nt.hashedPPID=nt.PPID?tt()(nt.PPID).toString():"",function(e=window.localStorage,t=nt.lsKey){e&&t&&nt&&nt.hashedPPID&&nt.hashedPPID.length>1&&e.setItem(t,nt.hashedPPID)}()}}(e),!nt.hashedPPID||nt.hashedPPID.length<2)?"":nt.hashedPPID}(e),dt.siteUUID&&dt.siteUUID.length>2&&(Array.isArray(st)&&(dt.loadM32=st.includes(dt.siteUUID),dt.loadAudigent=st.includes(dt.siteUUID),dt.loadLotame=st.includes(dt.siteUUID),dt.loadLiveIntent=st.includes(dt.siteUUID)),!dt.loadM32&&dt.siteUUID&&Array.isArray(ct)&&(dt.loadM32=ct.includes(dt.siteUUID)),!dt.loadLotame&&Array.isArray(lt)&&(dt.loadLotame=lt.includes(dt.siteUUID)),!dt.loadLiveIntent&&Array.isArray(ut)&&(dt.loadLiveIntent=ut.includes(dt.siteUUID)))}function wt(e,t=window){const n=t.localStorage.getItem(ft),o=t.localStorage.getItem(gt),i=t.localStorage.getItem(mt);if(o){const t=o.split("."),n=t[1],i=t[0],r=t[2];i&&(e.tp_id_lm=i,r&&(e.tp_id_lm_pid=r),n&&(e.tp_idt_lm=n))}if(i){const t=JSON.parse(i);t&&ie(t)&&(e.tp_li=t)}return n?e.tp_id_bc=n:Ze((e=>{e&&t.localStorage.setItem(ft,e)})),e}const yt="vf.consent_recieved";let bt,_t,kt,It,xt,St=function(){if(function(){try{const e=window.sessionStorage.getItem("__vftc__")||"0";return!0===JSON.parse(e)}catch{return!1}}())return!0;const e=function(e="//cdn.viafoura.net/vftc/index.js"){const t=document.getElementsByTagName("script");return Array.from(t).filter((t=>t.src.includes(e))).pop()}();return e?!!function(e){return Be.includes(e.type)}(e)&&(He("mayWeTrack::vftc.js was loaded, but it was blocked::not going to track"),!1):(He("mayWeTrack::no vftc script tag found::tracking continuing"),!0)}();We();const At=e=>{if(St){const t=function(e){return e=wt(e),{view:_t,meta:bt,ua:kt,rq:xt,w:It,...e}}(e);(e=>{(new Image).src=`${S}?t=${encodeURIComponent(JSON.stringify(e))}`})(t)}},Ct=(e,t)=>{const n=e?.settings?.tcf_api_cmp_integration,o=qe();if(n&&!o&&console.warn("Viafoura: CMP Intgration via TCF API is enabled in Admin but TCF API is not available on this site"),o&&n){const e=Qe();te("consented?",e),!0!==e&&(St=!1)}St&&(localStorage.setItem(yt,"1"),((e,t)=>{if(bt=Ne(e),_t=Ce(bt),kt=function(e,t){const{navigator:n,screen:o,innerWidth:i,innerHeight:r}=e,{title:a,characterSet:s,documentElement:c}=t;return{nl:n&&n.language||null,nu:n&&n.userAgent||null,sr:o&&o.width?`${o.width}x${o.height}`:null,sd:o&&o.colorDepth?o.colorDepth:null,vp:i?`${i}x${r}`:null,dt:a||null,de:s||null,dl:c&&c.getAttribute?c.getAttribute("lang"):null}}(window,document),xt=ee(),It=t,_t&&localStorage.setItem("_vf_skeleton_view_analytics",JSON.stringify(_t)),xt&&bt.url){const e={rq:xt,path:bt.path,t:Date.now()};localStorage.setItem("_vf_rq_info_analytics",JSON.stringify(e))}})(e,t),window.vfConfig&&window.vfConfig?.analytics_loaded||(At({event_type:"analytics.view_lite"}),function(){let e=new Date,t=0,n=!1,o=!1;const i=function(){const n=new Date,o=n.getTime()-e.getTime();t+=o,(o===n.getTime()||t/1e3/60/60>4)&&(t=0)},r=function(){n&&o?t=0:(i(),t>0&&(At({event_type:"analytics.engage_lite",engage:{time:t}}),t=0),n&&(o=!0))};window.addEventListener("focus",(function(){e=new Date})),window.addEventListener("blur",i),window.addEventListener("beforeunload",r),window.addEventListener("vf-main-loaded",(function(){r(),n=!0}))}(),function(){let e=!1;const t=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");let n=null;window.addEventListener("vf-main-loaded",(()=>{n?.disconnect(),e=!0}));const o=function(t){let n=t;"a"!==t.tagName.toLowerCase()&&(n=t.closest("a")||t),n.addEventListener("click",(()=>{e||At({event_type:"analytics.interaction",action:"click",label:"vf-comments-count"})}))};t&&t.nodeType===t.ELEMENT_NODE?o(t):(n=new MutationObserver(((e,t)=>{const n=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");n&&(o(n),t.disconnect())})),n.observe(document.body,{childList:!0,subtree:!0}))}(),window.vfConfig=window.vfConfig||{},window.vfConfig.analytics_loaded=!0),function(e,t=window,n=document){vt(e),window.vfConfig&&window.vfConfig?.tp_loaded||(window.vfConfig=window.vfConfig||{},window.vfConfig.tp_loaded=!0,function(e=window){!dt.m32pixelLoaded&&dt.loadM32&&dt.hashedPPID&&(e.m32_context=e.m32_context||{},e.m32_context.euid=dt.hashedPPID,at("https://rdc.m32.media/m32pixel.min.js"),dt.m32pixelLoaded=!0)}(t),function(e=window,t=document){if(!dt.audigentCodeLoaded&&dt.loadAudigent&&dt.hashedPPID){const n=`https://cdn.hadronid.net/hadron.js?url=${encodeURIComponent(e.location.href)}&ref=${encodeURIComponent(t.referrer)}&_it=freestar&partner_id=473`;at(n).then((()=>{try{e.au=e.au||[],e.au.push({category:"sendEvent",event:{type:"idmatch",data:dt.hashedPPID}})}catch(e){te("failed to load Audigent data:",e)}})),dt.audigentCodeLoaded=!0}}(t,n),function(e=window){const t=Number(e.localStorage.getItem(ht)),n=!(!t||Number.isNaN(t)||((new Date).getTime()-t)/864e5>1);if(!dt.lotameLoaded&&!n&&dt.loadLotame&&dt.hashedPPID){const t={data:{},config:{clientId:Number(pt),onProfileReady:()=>{const t=e[`lotame_${pt}`].getPanorama(),n=e[`lotame_${pt}`].getProfileId(),o=t.getId()||n,i=o===e[`lotame_${pt}`].getProfileId()?"profileID":t.getIdType()||"";o&&(e.localStorage.setItem(gt,`${o}.${i}.${n}`),e.localStorage.setItem(ht,`${(new Date).getTime()}`))}}},n=t.config||{};e[`lotame_${pt}`]={config:n,data:t.data||{},cmd:[]},at(`https://tags.crwdcntrl.net/lt/c/${pt}/lt.min.js`),dt.lotameLoaded=!0}}(t),function(e=window){!dt.liveIntentLoaded&&dt.loadLiveIntent&&(at("https://d-code.liadm.com/did-002u.min.js").then((()=>{try{e.liQd_did_002u.resolve((t=>{t&&e.localStorage.setItem(mt,JSON.stringify(t))}),(e=>{te("failed to load LiveIntent data:",e)}),{resolve:["sha2","gender","age","nonId"]})}catch(e){te("failed to load LiveIntent data:",e)}})),dt.liveIntentLoaded=!0)}(t))}(e))};var Pt;!function(e){e[e.mousemove=0]="mousemove",e[e.touchstart=1]="touchstart",e[e.touchend=2]="touchend",e[e.scroll=3]="scroll",e[e.keydown=4]="keydown",e[e.click=5]="click"}(Pt||(Pt={}));const $t=["mousemove","touchstart","touchend","scroll","keydown","click"],Dt=e=>{const t=()=>{e(),(e=>{$t.forEach((t=>{document.removeEventListener(t,e)}))})(t)};(e=>{$t.forEach((t=>{document.addEventListener(t,e)}))})(t)},Et=(e,t)=>{e.forEach((({intersectionRatio:e,target:n})=>{const o=(e=>{let t=e.tagName;return t.match(/^vf-/i)||(t=e.getAttribute("data-widget")),t})(n);if(!o)return;const i=o.toLowerCase(),r=F[i],{loadFn:a,threshold:s}=r,c=1===J.length&&"VF-CONVERSATIONS"===o||e>=(s||1),l=n.hasAttribute("floating");r&&(l?(Dt(a),t.unobserve(n)):c&&(window.scrollY<=0?Dt(a):setTimeout((()=>{a()}),1e3),t.unobserve(n)))}))},Ut=e=>{const t=(new Date).getTime();return!(e&&!isNaN(Number(e)))||t-Number(new Date(e).getTime())>=24192e5};function Lt(){const e=window.localStorage.getItem("vf.analytics.section")||"";if(!e||!Array.isArray(st)||0==st.length||!st.includes(e))return!1;const t=function(){try{const t=JSON.parse(window.localStorage.getItem("vf.analytics.us")||"{}");return t&&("object"!=typeof(e=t)||0!==Object.keys(e).length)?t:{}}catch(e){return{}}var e}(),n=[];ie(t)&&(t?.isActiveEngaged&&Ut(t?.lastAETS)&&n.push("ae"),t?.isRegistered&&Ut(t?.lastLoginTS)&&n.push("rg"),t?.isCommenter&&Ut(t?.lastCommentTS)&&n.push("cm"),t?.isUGCcontributor&&Ut(t?.lastContributionTS)&&n.push("ug"),n.length>0&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("vf_sg",n)}))))}window.vfQ=window.vfQ||[];let Tt=1;!async function(){await async function e(){let t;R("\n/* Skeleton Renderer styles */\n\n#vf-skeleton-container {\n    display: block;\n    margin: 20px 0;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block {\n    background-color: #ebebeb;\n    border-radius: 4px;\n    display: block;\n    position: relative;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block::after {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    left: 0px;\n    bottom: 0px;\n    transform: translateX(-100%);\n    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0) );\n    animation: shimmer 1s infinite;\n    content: '';\n}\n\n@keyframes shimmer {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.vf-skeleton-conversations-container .vf-skeleton-generic-block:not(:first-child) {\n    margin-top: 8px;\n}\n\n.vf-skeleton-comments-container {\n    height: 112px;\n    margin-top: 28px;\n}\n\n.vf-skeleton-comments-img-wrapper {\n    width: 46px;\n    float: left;\n}\n\n.vf-skeleton-comments-img-wrapper .vf-skeleton-generic-block {\n    border-radius: 100%;\n}\n\n.vf-skeleton-comments-line-wrapper {\n    float: left;\n    width: 80%;\n    margin-left: 14px;\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n    width: 45%\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n    width: 55%\n}\n\n@media (min-width: 757px) {\n    .vf-skeleton-comments-line-wrapper {\n        width: 90%;\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n        width: 20%\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n        width: 80%\n    }\n}");try{if("true"!==window.localStorage.getItem(_)){const t=window.location.hostname.replace(/^www./i,"");if(-1!==k.indexOf(t)){if(!Qe())return We(),te("waiting for consent for ",2e3*Tt,"ms"),void await(n=e,new Promise((e=>{setTimeout((()=>e(n())),2e3*Tt),Tt+=1})));window.localStorage.setItem(_,"true")}else window.localStorage.setItem(_,"true")}}catch(e){te("MEP consent error: ",e)}var n;try{if(t=await D(),window.location.hash.match(/^#vf-/))z();else{const e=new IntersectionObserver(Et,{threshold:[0,.25,.5,.75,1],rootMargin:"500px 0px 0px 0px"});await(async e=>{const t=((e=!1)=>{const t=Object.entries(F).map((([e,t])=>({name:e,elements:(e=>{const t=F[e].selector;return document.querySelectorAll(t)})(e),options:t})));return e?t.filter((e=>e.elements.length>0)):t})(!0);!function(e){e.forEach((e=>{const{elements:t,options:n}=e;t.forEach((e=>{const t=e.closest(".viafoura"),o=e.hasAttribute("floating");let i="";t&&!o&&(n.allowedStyleProps?.forEach((e=>{i+=function(e,t){let n="";return Array.from(e.style).includes(t)&&(n+=`${t}: ${e.style.getPropertyValue(t)}; `),n}(t,e)})),parseInt(t.style.minHeight)?i+=`min-height: ${t.style.minHeight}`:i+=`min-height: ${n.height()}px;`,t.setAttribute("style",i),n.isDynamicHeight&&ResizeObserver)&&new ResizeObserver((()=>{t.style.minHeight=`${n.height()}px`})).observe(t)}))}))}(t);for await(const n of t){J.push(n.name);try{const t={elements:n.elements,options:n.options,name:n.name,..."vf-tray-trigger"===n.name&&{notificationCount:await M()}};n.options.renderer(t,e)}catch(e){throw console.error({message:`Could not load ${n.name}`,originalError:e}),e}}})(e)}Lt(),Ct(t,J)}catch(e){console.error(e)}}()}()})()})();
//# sourceMappingURL=index.js.map