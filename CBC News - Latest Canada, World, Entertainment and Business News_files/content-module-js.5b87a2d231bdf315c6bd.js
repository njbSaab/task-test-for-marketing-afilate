(window._vfP=window._vfP||[]).push([[179,180,181],{543:function(t,n,e){"use strict";e.r(n),e.d(n,"REPLY_THREAD_MODES",(function(){return d})),e.d(n,"replyThreads",(function(){return _}));e(3);var r=e(2),i=e(41),u=e(111),o=e(54),c={[r.wb](t,n){(t[n]||[]).pop()},[r.a]:Object(u.a)(i.default,(function(t,n){return!n.some((function(n){return n.thread_uuid===t.thread_uuid}))})),[r.C]:Object(o.e)(i.default),[r.ld](t,n){var e=n.uuid,r=n.mode,i=t[e];i[i.length-1].mode=r}},a=e(0),s={[a.a]:function(t){return function(n){var e=t[n]||[];return e[e.length-1]||{}}},[a.Nb]:function(t){return function(n){return Boolean(t[n])}}},f={[e(4).a](t,n){var e=n.thread_uuid,i=n.offset_top,u=n.mode,o=t.getters[a.S](e),c=t.getters[a.W](e);i=t.getters[a.a](c).offset_top||i;var s={key:c,items:[{parent_thread_uuid:o.thread_uuid,content_container_uuid:c,thread_uuid:e,offset_top:i,mode:u}]};t.commit(r.a,s)}},d={MENTION:"mention",REPLY_PARENT:"reply",REPLIES:"replies"},l=function(){return{}},_=function(){return{state:l,mutations:c,getters:s,actions:f}}},546:function(t,n,e){"use strict";e.r(n),e.d(n,"reportComment",(function(){return s}));var r=e(2),i=e(41),u=e(54),o={[r.Mc](t,n){var e=n.content_container_uuid,r=n.content_uuid,u=n.offset_top;i.default.set(t,e,{content_uuid:r,offset_top:u})},[r.M]:Object(u.e)(i.default)},c={[e(0).b]:t=>function(n){var e;return null!==(e=t[n])&&void 0!==e&&e.content_uuid?t[n]:null}},a=function(){return{}},s=function(){return{state:a,mutations:o,getters:c}}},665:function(t,n,e){"use strict";e.r(n),e.d(n,"storeModule",(function(){return h}));e(46),e(58),e(95),e(14),e(27),e(3),e(15),e(34);var r=e(2),i=e(91),u=e(54),o=e(893),c=e(425),a=e(41),s={[r.nc]:Object(u.h)(a.default,c.c),[r.Kc](t,n){delete n.item.actions,Object(u.h)(a.default,c.c)(t,n)},[r.Fb]:Object(u.e)(a.default),[r.fb](t,n){t[n].isNew=!1},[r.eb](t,n){t[n].isNew=!0},[r.hb](t,n){t[n].read=!1},[r.gb](t,n){t[n].read=!0},[r.sc](t,n){var e=n.content_uuid,r=n.place;t[e].place=r},[r.oc](t,n){var e=n.content_uuid,r=n.animation;t[e].animation=Object.values(c.a).includes(r)?r:c.a.NONE},[r.bb](t,n){t[n].is_picked=!0},[r.cb](t,n){t[n].is_picked=!1},[r.fd](t,n){t[n].state_reasons.push(i.d.CONTENT_MARKED_AS_SPAM)},[r.db](t,n){t[n].state=i.c.VISIBLE,t[n].simplified_state=i.c.VISIBLE,t[n].state_reasons=t[n].state_reasons.filter((function(t){return t!==i.d.CONTENT_DISABLED&&t!==i.d.CONTENT_MARKED_AS_SPAM&&t!==i.d.CONTENT_AWAITING_MODERATION}))},[r.ab](t,n){t[n].simplified_state=i.c.DISABLED,t[n].state_reasons.push(i.d.CONTENT_DISABLED)},[r.vb](t,n){t[n].is_pinned=!0,t[n].date_pinned=Date.now()},[r.kd](t,n){t[n].is_pinned=!1,t[n].date_pinned=void 0},[r.rc](t,n){var e=n.content_uuid,r=n.simplified_state;t[e].simplified_state=r,t[e].state_reasons.push(i.d.CONTENT_DELETED)},[r.dc](t){Object.values(t).forEach((function(t){t.actions=[]}))},[r.lb]:Object(o.b)("total_likes"),[r.Z]:Object(o.a)("total_likes"),[r.jb]:Object(o.b)("total_dislikes"),[r.Y]:Object(o.a)("total_dislikes"),[r.j](t,n){t[n].actions=t[n].actions.concat("flag")},[r.I](t,n){t[n].total_flags=0,t[n].actions=t[n].actions.filter((function(t){return"flag"!==t}))},[r.m](t,n){t[n].actions=t[n].actions.concat("like")},[r.k](t,n){t[n].actions=t[n].actions.concat("flag"),t[n].total_flags+=1},[r.kb]:Object(o.b)("total_flags"),[r.f](t,n){t[n].actions=t[n].actions.concat("dislike")},[r.Tb](t,n){t[n].actions=t[n].actions.filter((function(t){return"like"!==t}))},[r.Gb](t,n){t[n].actions=t[n].actions.filter((function(t){return"dislike"!==t}))},[r.o](t,n){var e=n.parent_uuid,r=n.child_uuid;t[e].reply_uuids.push(r),t[r].parent_uuid=e},[r.Zb](t,n){var e=n.parent_uuid,r=n.child_uuid;t[e].reply_uuids=t[e].reply_uuids.filter((function(t){return t!==r})),t[r].parent_uuid=""},[r.mb](t,n){t[n]&&(t[n].total_replies+=1,t[n].total_direct_replies+=1)},[r.V](t,n){t[n]&&(t[n].total_replies-=1,t[n].total_direct_replies-=1)}},f=(e(152),e(56),e(0)),d=e(24),l=e(84),_=e(692),b=function(t,n){return Boolean(t)&&Object(d.I)(n)},p={[f.S]:t=>function(n){return t[n]},[f.R]:function(t,n){return function(e){return Object.values(t).filter((function(t){return t.thread_uuid===e})).filter((function(t){var e=t.content_uuid;return n[f.Rb](e)}))}},[f.Q]:function(t,n){return function(e){return Object.values(t).filter((function(t){return t.parent_uuid===e})).filter((function(t){var e=t.content_uuid;return n[f.Rb](e)}))}},[f.fb]:(t,n)=>function(e){return t[e].reply_uuids.filter(n[f.Rb]).map(n[f.S]).filter((function(t){return!t.state_reasons.includes(i.d.ACTOR_GHOST_BANNED)})).sort((function(t,n){return t.time-n.time}))},[f.w]:(t,n)=>function(e){var r=t[e],i=n[f.kd](r),u=n[f.kb];return Boolean(r)&&function(t){return!t.social_id&&Boolean(t.content)}(r)&&i&&i.uuid===u},[f.v]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&r.simplified_state!==i.c.VISIBLE},[f.s]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&!r.state_reasons.includes(i.d.CONTENT_DISABLED)},[f.x]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&!r.is_pinned&&r.parent_uuid===r.content_container_uuid},[f.A]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&r.is_pinned&&r.parent_uuid===r.content_container_uuid},[f.r]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&r.total_flags>0},[f.t]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&!r.is_picked},[f.u]:(t,n)=>function(e){var r=t[e];return b(r,n[f.ib])&&r.is_picked},[f.z]:function(t,n){return function(e){var r=t[e];return b(r,n[f.ib])&&!r.state_reasons.includes(i.d.CONTENT_MARKED_AS_SPAM)}},[f.B]:function(t,n){return function(e){var r=t[e];return b(r,n[f.ib])&&r.state_reasons.includes(i.d.CONTENT_MARKED_AS_SPAM)}},[f.y]:function(t,n){return function(e){var r=t[e];return n[f.w](e)&&!r.state_reasons.includes(i.d.CONTENT_DELETED)}},[f.cb]:t=>function(n){return t[n].actions.some((function(t){return"like"===t}))},[f.ab]:t=>function(n){return t[n].actions.some((function(t){return"dislike"===t}))},[f.bb]:(t,n)=>function(e){return t[e].actions.some((function(t){return"flag"===t}))||Object(_.f)(e,n[f.kb])},[f.Z]:t=>function(n,e){return t[n].actor_uuid===e},[f.Y]:(t,n)=>function(t){return n[f.Z](t,n[f.kb])},[f.db]:function(t){return function(n){return t[n].is_pinned}},[f.eb]:function(t){return function(n){return!t[n].is_pinned}},[f.Rb]:function(t,n){return function(e){var r=t[e];if(!r)return!1;if(Object(d.I)(n[f.ib]))return!0;var u=n[f.Qb];if(Object(l.c)(u)&&u(r.content_container_uuid))return n[f.Vb](r);if(!r.state_reasons.includes(i.d.CONTENT_DELETED)&&n[f.Y](r.content_uuid))return!0;var o=n[f.nd](r.actor_uuid),c=r.simplified_state===i.c.DISABLED,a=0===r.total_replies||0===n[f.Q](r.content_uuid).length;return!(o&&a||c)&&!r.state_reasons.includes(i.d.CONTENT_AWAITING_MODERATION)}},[f.Pb]:function(t){return function(n){return t[n].isNew}},[f.X]:t=>function(n,e){return t[n].reply_uuids.includes(e)},[f.W]:t=>function(n){return t[n].content_container_uuid},[f.cd]:function(t){return function(n){return Object.values(t).filter((function(t){var e=t.content_container_uuid,r=t.content_uuid;return e===n&&p[f.Rb](r)})).length}}},m=(e(7),e(8),e(12),e(47),e(48),e(17),e(18),e(13),e(52),e(4)),v=e(23),O=e(203);function E(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function N(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?E(Object(e),!0).forEach((function(n){y(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function y(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var j=N(N({},{[v.i](t,n){var e=t.state,r=t.getters,i=t.dispatch;return e[n.content_uuid]?r[f.Sb](n.actor_uuid)?i(m.jc,n):i(m.mc,n):Promise.resolve()},[m.jc](t,n){var e=t.commit,i=n.action,u=n.content_uuid,o=n.payload;switch(i){case O.a.FLAGGED:case O.a.FLAGS_CLEARED:case O.a.PICKED:case O.a.UNPICKED:case O.a.PINNED:case O.a.UNPINNED:case O.a.SPAM:case O.a.DISABLED:case O.a.VISIBLE:e(r.Kc,{key:u,item:o})}},[m.mc](t,n){var e=t.commit,i=n.action,u=n.content_uuid,o=n.payload;switch(i){case O.a.LIKED:e(r.lb,u);break;case O.a.UNLIKED:e(r.Z,u);break;case O.a.DISLIKED:e(r.jb,u);break;case O.a.UNDISLIKED:e(r.Y,u);break;case O.a.FLAGGED:case O.a.PICKED:case O.a.UNPICKED:case O.a.PINNED:case O.a.UNPINNED:case O.a.DELETED:case O.a.SPAM:case O.a.DISABLED:case O.a.VISIBLE:e(r.Kc,{key:u,item:o});break;case O.a.FLAGS_CLEARED:e(r.Kc,{key:u,item:o}),e(r.I,u)}}}),{},{[m.Kc](t,n){var e=t.commit,i=Object(c.d)(n),u=i.post;return i.media.forEach((function(t){e(r.Cc,t)})),e(r.nc,{key:u.content_uuid,item:u}),Promise.resolve(u)},[m.Jc](t,n){for(var e=t.dispatch,r=n.content_container_uuid,i=n.contents,u=n.shouldSetUsersSynchronously,o=void 0!==u&&u,a=[],s=[],f=function(){var t=i[d];t.media=t.media||[],t.content_container_uuid=t.content_container_uuid||r,a.push(e(m.Kc,t).then((function(){return t.content_uuid}))),t.origin===c.b.USER&&s.push(t.actor_uuid)},d=0;d<i.length;d++)f();return o?a.push(e(m.zb,s)):e(m.zb,s),Promise.all(a)},[m.lc](t){(0,t.commit)(r.dc)}}),D=e(543),g=e(546),h=function(){return{mutations:s,getters:p,actions:j,state:c.e,modules:{replyThreads:Object(D.replyThreads)(),reportComment:Object(g.reportComment)()}}}},692:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return f})),e.d(n,"h",(function(){return d})),e.d(n,"g",(function(){return l})),e.d(n,"e",(function(){return _})),e.d(n,"c",(function(){return b})),e.d(n,"d",(function(){return p})),e.d(n,"i",(function(){return m})),e.d(n,"f",(function(){return v}));e(3),e(15),e(7),e(73),e(92),e(47),e(48),e(17),e(18),e(13),e(27),e(14),e(52);var r=e(2),i=e(0),u=e(91);function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){a(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function a(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var s=function(t){return function(n,e){return n[t](e)}},f=function(t){return function(n,e){return!n[t](e)}},d=function(t,n){return function(e,r,i){t(e,i)&&n.forEach((function(t){return r(t,i)}))}},l=function(t,n,e){return function(i){return i.hasOwnProperty("error_status")?(t(r.nc,{key:n,item:e}),Promise.reject(i.error_status)):Promise.resolve()}},_=function(t,n){var e=t[i.W](n);return{section_uuid:t[i.Cc](e),content_container_uuid:e,content_uuid:n}},b=function(t,n){return function(e,r){var u=e.commit,o=e.getters,c=Object.assign({},o[i.S](r)),a=_(o,r);return n.forEach((function(t){return t(o,u,r)})),t(a).then(l(u,r,c))}},p=function(t){return function(n,e){var o=n.commit,a=n.getters,s=e.content_uuid,f=e.content,d=e.media_uuids,b=Object.assign({},a[i.S](s)),p=a[i.W](s),m=a[i.V](p).is_content_premoderation_enabled,v=a[i.U](p),O=a[i.nc](null==v?void 0:v.locationId),E=c(c({},_(a,s)),{},{content:{content:f,media_uuids:d,metadata:O}}),N={is_edited:!0,content:f};return m&&(N.state_reasons=[u.d.CONTENT_AWAITING_MODERATION]),o(r.nc,{key:s,item:N}),t(E).then(l(o,s,b))}},m=function(t,n){try{var e=JSON.parse(window.localStorage.getItem("_vf-content-reported"))||{};e[n]=e[n]||{},e[n][t]=!0,window.localStorage.setItem("_vf-content-reported",JSON.stringify(e))}catch(t){console.error("VIAFOURA: Failed to store reported content")}},v=function(t,n){try{return(JSON.parse(window.localStorage.getItem("_vf-content-reported"))||{})[n][t]}catch(t){return null}}},893:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return i}));var r=function(t){return function(n,e){n[e][t]++}},i=function(t){return function(n,e){n[e][t]--}}}}]);
//# sourceMappingURL=content-module-js.5b87a2d231bdf315c6bd.js.map